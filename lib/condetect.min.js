/* condetect 0.0.1-alpha https://github.com/tadeck/condetect */
(function(c){var b={},a={};b.log=function(d){if(c.console!==undefined&&c.console.log!==undefined){c.console.log(d)}};b.error=function(d){b.log("ERROR: "+d)};b.overrideMethod=function(e,d){b[e]=d};b.ajaxCallUsesSPDY=function(g){var h,i,d,f;h=/^:?version: /m;i=new c.XMLHttpRequest();i.open("GET",g,false);try{i.send(null);f=i.getResponseHeader("X-Firefox-Spdy");if(f===null){d=false;if(h.test(i.getAllResponseHeaders())){d=true}}else{d=f>1}}catch(j){b.error("Issue making AJAX call: "+j.toString());d=undefined}return d};b.getLocation=function(e){if(e===undefined){e=c}var d;if(e.location!==undefined){d=e.location}else{d=e.document.location}return d};b.isSPDY=function(e){if(e===undefined){e=c}var d;if(e.chrome!==undefined&&e.chrome.loadTimes!==undefined){d=e.chrome.loadTimes().wasFetchedViaSpdy}else{d=b.ajaxCallUsesSPDY(b.getLocation(e))}return d};b.isSSL=function(e){if(e===undefined){e=c}var f,d;f=b.getLocation(e);if(f.protocol!==undefined){d=b.protocolIsSecure(f.protocol)}else{b.error("cannot retrieve protocol");d=undefined}return d};b.protocolIsSecure=function(f){var e,d;e={secure:/^https:/,insecure:/^(http|file|ftp):/};if(e.secure.test(f)){d=true}else{if(e.insecure.test(f)){d=false}else{b.error("encountered unknown protocol: "+f);d=undefined}}return d};a.isSPDY=b.isSPDY;a.isSSL=b.isSSL;a.overrideMethod=b.overrideMethod;c.condetect=a}(window));